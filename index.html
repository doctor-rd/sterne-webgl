<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <title>Sterne</title>
  </head>

  <body>
    <canvas id="glcanvas" width="640" height="480"></canvas>
    <script>
      function createStars(n, r, m) {
        let stars = [];
        for (let i=0; i<n; i++) {
          stars.push({
            x: (Math.random()*2-1)*r,
            y: (Math.random()*2-1)*r,
            z: Math.random()*m
          });
        }
        stars.move = function(d) {
          for (let i=0; i<this.length; i++) {
            this[i].z+=d;
            while (this[i].z>m)
              this[i].z-=m;
          }
        }
        return stars;
      }

      const gl = document.getElementById("glcanvas").getContext("webgl");

      function loadShader(type, source) {
        const shader = gl.createShader(type);
        gl.shaderSource(shader, source);
        gl.compileShader(shader);
        return shader;
      }

      const fragSource = `
        varying lowp float vBright;
        void main(void) {
          gl_FragColor = vec4(vBright, vBright, vBright, 1.0);
        }
      `;

      function step(now) {
        gl.clearColor(0.0, 0.0, 0.0, 1.0);
        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);
        requestAnimationFrame(step);
      }
      requestAnimationFrame(step);
    </script>
  </body>
</html>
